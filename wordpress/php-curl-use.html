<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  
  <title>php中curl详细用法</title>
  
  
<link href="//cdn.jsdelivr.net" rel="dns-prefetch">
<link href="//cdnjs.cloudflare.com" rel="dns-prefetch">
<link href="//at.alicdn.com" rel="dns-prefetch">
<link href="//fonts.googleapis.com" rel="dns-prefetch">
<link href="//fonts.gstatic.com" rel="dns-prefetch">    
<link href="//www.google-analytics.com" rel="dns-prefetch">  



<meta name="author" content="IMxcz.Com">
<meta name="description" content="目前为目最全的CURL中文说明了,学PHP的要好好掌握.有很多的参数.大部份都很有用.真正掌握了它和正则,一定就是个采集高手了. PHP中的CURL函数库（Client URL Library Function） curl_close - 关闭一个"> 


<meta name="generator" content="Hugo 0.54.0">


<link rel="canonical" href="http://www.imxcz.com/wordpress/php-curl-use.html"> 
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="format-detection" content="telephone=no,email=no,adress=no">
<meta http-equiv="Cache-Control" content="no-transform">


<meta name="robots" content="index,follow">
<meta name="referrer" content="origin-when-cross-origin"> 
<meta name="google-site-verification" content="_moDmnnBNVLBN1rzNxyGUGdPHE20YgbmrtzLIbxaWFc"> 
<meta name="msvalidate.01" content="22596E34341DD1D17D6022C44647E587">   


<link rel="icon" href="http://www.imxcz.com/favicon.ico">


<link rel="preload" href="http://www.imxcz.com/styles/main.min.css" as="style"> 
<link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet">
<link rel="preload" href="http://www.imxcz.com/images/avatar.png" as="image">

<link rel="stylesheet" href="http://www.imxcz.com/styles/main.min.css"> 
<link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet">



<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.2/dist/medium-zoom.min.js"></script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/video.js@7.3.0/dist/video-js.min.css"> 
  
  
<!--[if lte IE 8]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/videojs-ie8@1.1.2/dist/videojs-ie8.min.js"></script>
<![endif]-->

<!--[if lte IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/eligrey-classlist-js-polyfill@1.2.20180112/classList.min.js"></script>
<![endif]-->


</head>
  <body>
    
    <div class="suspension">
      <a role="button" aria-label="Go to top" title="Go to top" class="to-top is-hide"><span class="icon icon-up" aria-hidden="true"></span></a>
      
        
      
    </div>
    
    
  <header class="site-header">
  <div class="top-header">
  <img class="avatar" src="http://www.imxcz.com/images/avatar.png" alt="Avatar">
  
  <h2 class="title">幸存者IMxcz.Com</h2>
  
  
  <button class="menu-toggle" type="button" aria-label="Main Menu" aria-expanded="false" tab-index="0">
    <span class="icon icon-menu" aria-hidden="true"></span>
  </button>

  <nav class="site-menu collapsed">
    <h2 class="offscreen">Main Menu</h2>
    <ul class="menu-list">
      
      
      
      
        <li class="menu-item
          
          
          
           is-active">
          <a href="http://www.imxcz.com/">Home</a>
        </li>
      
        <li class="menu-item
          
          
          
          ">
          <a href="http://www.imxcz.com/categories/">Categories</a>
        </li>
      
        <li class="menu-item
          
          
          
          ">
          <a href="http://www.imxcz.com/archives/">Archives</a>
        </li>
      
        <li class="menu-item
          
          
          
          ">
          <a href="http://www.imxcz.com/links/">Links</a>
        </li>
      
        <li class="menu-item
          
          
          
          ">
          <a href="http://www.imxcz.com/about/">About</a>
        </li>
      
    </ul>
  </nav>
</div>
  
</header>

  <section class="main post-detail">
    <content class="content">
    <header class="post-header">
      <h1 class="post-title">php中curl详细用法</h1>
      <p class="post-meta">@IMxcz.Com · 2014/04/30 · 12 分钟 · 
              
              <a href="http://www.imxcz.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0">技术文章</a>
              
          </p>
    </header>
    <article class="post-content"><p>目前为目最全的CURL中文说明了,学PHP的要好好掌握.有很多的参数.大部份都很有用.真正掌握了它和正则,一定就是个采集高手了.</p>

<p>PHP中的CURL函数库（Client URL Library Function）</p>

<ul>
<li>curl_close - 关闭一个curl会话</li>
<li>curl_copy_handle - 拷贝一个curl连接资源的所有内容和参数</li>
<li>curl_errno - 返回一个包含当前会话错误信息的数字编号</li>
<li>curl_error - 返回一个包含当前会话错误信息的字符串</li>
<li>curl_exec - 执行一个curl会话</li>
<li>curl_getinfo - 获取一个curl连接资源句柄的信息</li>
<li>curl_init - 初始化一个curl会话</li>
<li>curl_multi_add_handle - 向curl批处理会话中添加单独的curl句柄资源</li>
<li>curl_multi_close - 关闭一个批处理句柄资源</li>
<li>curl_multi_exec - 解析一个curl批处理句柄</li>
<li>curl_multi_getcontent - 返回获取的输出的文本流 curl_multi_info_read - 获取当前解析的curl的相关传输信息</li>
<li>curl_multi_init - 初始化一个curl批处理句柄资源</li>
<li>curl_multi_remove_handle - 移除curl批处理句柄资源中的某个句柄资源</li>
<li>curl_multi_select - Get all the sockets associated with the cURL extension, which can then be &ldquo;selected&rdquo;</li>
<li>curl_setopt_array - 以数组的形式为一个curl设置会话参数</li>
<li>curl_setopt - 为一个curl设置会话参数</li>

<li><p>curl_version - 获取curl相关的版本信息</p></li>

<li><p>curl_init()函数的作用初始化一个curl会话，curl_init()函数唯一的一个参数是可选的，表示一个url地址。</p></li>

<li><p>curl_exec()函数的作用是执行一个curl会话，唯一的参数是curl_init()函数返回的句柄。</p></li>

<li><p>curl_close()函数的作用是关闭一个curl会话，唯一的参数是curl_init()函数返回的句柄。</p></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#75715e">&lt;?php</span> 
$ch <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_init</span>(<span style="color:#e6db74">&#34;http://www.baidu.com/&#34;</span>); 
<span style="color:#a6e22e">curl_exec</span>($ch); 
<span style="color:#a6e22e">curl_close</span>($ch); 
<span style="color:#75715e">?&gt;</span>
</code></pre></div>
<p>curl_version()函数的作用是获取curl相关的版本信息，curl_version()函数有一个参数，不清楚是做什么的可设置的参数有：</p>

<p>CURLOPT_AUTOREFERER  自动设置header中的referer信息</p>

<p>CURLOPT_BINARYTRANSFER 在启用CURLOPT_RETURNTRANSFER时候将获取数据返回</p>

<p>CURLOPT_COOKIESESSION 启用时curl会仅仅传递一个session cookie，忽略其他的cookie，默认状况下curl会将所有的cookie返回给服务端。session cookie是指那些用来判断服务器端的session是否有效而存在的cookie。</p>

<p>CURLOPT_CRLF 启用时将Unix的换行符转换成回车换行符。</p>

<p>CURLOPT_DNS_USE_GLOBAL_CACHE 启用时会启用一个全局的DNS缓存，此项为线程安全的，并且默认为true。</p>

<p>CURLOPT_FAILONERROR 显示HTTP状态码，默认行为是忽略编号小于等于400的HTTP信息</p>

<p>CURLOPT_FILETIME 启用时会尝试修改远程文档中的信息。结果信息会通过curl_getinfo()函数的CURLINFO_FILETIME选项返回。</p>

<p>CURLOPT_FOLLOWLOCATION 启用时会将服务器服务器返回的&rdquo;Location:&ldquo;放在header中递归的返回给服务器，使用CURLOPT_MAXREDIRS可以限定递归返回的数量。</p>

<p>CURLOPT_FORBID_REUSE 在完成交互以后强迫断开连接，不能重用。</p>

<p>CURLOPT_FRESH_CONNECT 强制获取一个新的连接，替代缓存中的连接。</p>

<p>CURLOPT_FTP_USE_EPRT  TRUE to use EPRT (and LPRT) when doing active FTP downloads. Use FALSE to disable EPRT and</p>

<p>LPRT and use PORT only  Added in PHP 5.0.0.</p>

<p>CURLOPT_FTP_USE_EPSV  TRUE to first try an EPSV command for FTP transfers before reverting back to PASV. Set to FALSE to disable EPSV.</p>

<p>CURLOPT_FTPAPPEND TRUE to append to the remote file instead of overwriting it.</p>

<p>CURLOPT_FTPASCII  An alias of CURLOPT_TRANSFERTEXT. Use that instead.</p>

<p>CURLOPT_FTPLISTONLY  TRUE to only list the names of an FTP directory.</p>

<p>CURLOPT_HEADER  启用时会将头文件的信息作为数据流输出。</p>

<p>CURLOPT_HTTPGET  启用时会设置HTTP的method为GET，因为GET是默认是，所以只在被修改的情况下使用。</p>

<p>CURLOPT_HTTPPROXYTUNNEL  启用时会通过HTTP代理来传输。</p>

<p>CURLOPT_MUTE  讲curl函数中所有修改过的参数恢复默认值。</p>

<p>CURLOPT_NETRC  在连接建立以后，访问~/.netrc文件获取用户名和密码信息连接远程站点。</p>

<p>CURLOPT_NOBODY  启用时将不对HTML中的body部分进行输出。</p>

<p>CURLOPT_NOPROGRESS  启用时关闭curl传输的进度条，此项的默认设置为true</p>

<p>CURLOPT_NOSIGNAL  启用时忽略所有的curl传递给php进行的信号。在SAPI多线程传输时此项被默认打开。</p>

<p>CURLOPT_POST  启用时会发送一个常规的POST请求，类型为：application/x-www-form-urlencoded，就像表单提交的一样。</p>

<p>CURLOPT_PUT  启用时允许HTTP发送文件，必须同时设置CURLOPT_INFILE和CURLOPT_INFILESIZE</p>

<p>CURLOPT_RETURNTRANSFER  讲curl_exec()获取的信息以文件流的形式返回，而不是直接输出。</p>

<p>CURLOPT_SSL_VERIFYPEER  FALSE to stop cURL from verifying the peer&rsquo;s certificate. Alternate certificates to verify against can be specified with the CURLOPT_CAINFO option or a certificate directory can be specified with the CURLOPT_CAPATH option. CURLOPT_SSL_VERIFYHOST may also need to be TRUE or FALSE if CURLOPT_SSL_VERIFYPEER is disabled (it defaults to 2). TRUE by default as of cURL</p>

<p>7.10. Default bundle installed as of cURL 7.10.</p>

<p>CURLOPT_TRANSFERTEXT  TRUE to use ASCII mode for FTP transfers. For LDAP, it retrieves data in plain text instead  of HTML. On Windows systems, it will not set STDOUT to binary mode.</p>

<p>CURLOPT_UNRESTRICTED_AUTH  在使用CURLOPT_FOLLOWLOCATION产生的header中的多个locations中持续追加用户名和密码信息，即使域名已发生改变。</p>

<p>CURLOPT_UPLOAD  启用时允许文件传输</p>

<p>CURLOPT_VERBOSE  启用时会汇报所有的信息，存放在STDERR或指定的CURLOPT_STDERR中</p>

<p>CURLOPT_BUFFERSIZE  每次获取的数据中读入缓存的大小，这个值每次都会被填满。</p>

<p>CURLOPT_CLOSEPOLICY  不是CURLCLOSEPOLICY_LEAST_RECENTLY_USED就CURLCLOSEPOLICY_OLDEST，还存在另外三个，但是curl暂时还不支持。.</p>

<p>CURLOPT_CONNECTTIMEOUT  在发起连接前等待的时间，如果设置为0，则不等待。</p>

<p>CURLOPT_DNS_CACHE_TIMEOUT  设置在内存中保存DNS信息的时间，默认为120秒。</p>

<p>CURLOPT_FTPSSLAUTH  The FTP authentication method (when is activated): CURLFTPAUTH_SSL (try SSL first), CURLFTPAUTH_TLS (try TLS first), or CURLFTPAUTH_DEFAULT (let cURL decide).</p>

<p>CURLOPT_HTTP_VERSION 设置curl使用的HTTP协议，CURL_HTTP_VERSION_NONE（让curl自己判断），CURL_HTTP_VERSION_1_0（HTTP/1.0），CURL_HTTP_VERSION_1_1（HTTP/1.1）</p>

<p>CURLOPT_HTTPAUTH  使用的HTTP验证方法，可选的值有：CURLAUTH_BASIC，CURLAUTH_DIGEST，CURLAUTH_GSSNEGOTIATE，CURLAUTH_NTLM，CURLAUTH_ANY，CURLAUTH_ANYSAFE，可以使用&rdquo;|&ldquo;操作符分隔多个值，curl让服务器选择一个支持最好的值，CURLAUTH_ANY等价于CURLAUTH_BASIC | CURLAUTH_DIGEST | CURLAUTH_GSSNEGOTIATE | CURLAUTH_NTLM，CURLAUTH_ANYSAFE等价于CURLAUTH_DIGEST | CURLAUTH_GSSNEGOTIATE | CURLAUTH_NTLM</p>

<p>CURLOPT_INFILESIZE  设定上传文件的大小</p>

<p>CURLOPT_LOW_SPEED_LIMIT 当传输速度小于CURLOPT_LOW_SPEED_LIMIT时，PHP会根据CURLOPT_LOW_SPEED_TIME来判断是否因太慢而取消传输。</p>

<p>CURLOPT_LOW_SPEED_TIME  The number of seconds the transfer should be below CURLOPT_LOW_SPEED_LIMIT for PHP to consider the transfer too slow and abort. 当传输速度小于CURLOPT_LOW_SPEED_LIMIT时，PHP会根据CURLOPT_LOW_SPEED_TIME来判断是否因太慢而取消传输。</p>

<p>CURLOPT_MAXCONNECTS  允许的最大连接数量，超过是会通过CURLOPT_CLOSEPOLICY决定应该停止哪些连接</p>

<p>CURLOPT_MAXREDIRS  指定最多的HTTP重定向的数量，这个选项是和CURLOPT_FOLLOWLOCATION一起使用的。</p>

<p>CURLOPT_PORT 一个可选的用来指定连接端口的量</p>

<p>CURLOPT_PROXYAUTH  The HTTP authentication method(s) to use for the proxy connection. Use the same bitmasks as described in CURLOPT_HTTPAUTH. For proxy authentication, only CURLAUTH_BASIC and CURLAUTH_NTLM are currently supported.</p>

<p>CURLOPT_PROXYPORT  The port number of the proxy to connect to. This port number can also be set in</p>

<p>CURLOPT_PROXY.</p>

<p>CURLOPT_PROXYTYPE  Either CURLPROXY_HTTP (default) or CURLPROXY_SOCKS5.</p>

<p>CURLOPT_RESUME_FROM  在恢复传输时传递一个字节偏移量（用来断点续传）</p>

<p>CURLOPT_SSL_VERIFYHOST
1 to check the existence of a common name in the SSL peer certificate.
2 to check the existence of a common name and also verify that it matches the hostname provided.</p>

<p>CURLOPT_SSLVERSION  The SSL version (2 or 3) to use. By default PHP will try to determine this itself, although in some cases this must be set manually.</p>

<p>CURLOPT_TIMECONDITION  如果在CURLOPT_TIMEVALUE指定的某个时间以后被编辑过，则使用CURL_TIMECOND_IFMODSINCE返回页面，如果没有被修改过，并且CURLOPT_HEADER为true，则返回一个&rdquo;304 Not Modified&rdquo;的header，CURLOPT_HEADER为false，则使用CURL_TIMECOND_ISUNMODSINCE，默认值为CURL_TIMECOND_IFMODSINCE</p>

<p>CURLOPT_TIMEOUT  设置curl允许执行的最长秒数</p>

<p>CURLOPT_TIMEVALUE  设置一个CURLOPT_TIMECONDITION使用的时间戳，在默认状态下使用的是CURL_TIMECOND_IFMODSINCE</p>

<p>CURLOPT_CAINFO
The name of a file holding one or more certificates to verify the peer with. This only makes</p>

<p>sense when used in combination with CURLOPT_SSL_VERIFYPEER.</p>

<p>CURLOPT_CAPATH
A directory that holds multiple CA certificates. Use this option alongside</p>

<p>CURLOPT_SSL_VERIFYPEER.</p>

<p>CURLOPT_COOKIE
设定HTTP请求中&rdquo;Set-Cookie:&ldquo;部分的内容。</p>

<p>CURLOPT_COOKIEFILE
包含cookie信息的文件名称，这个cookie文件可以是Netscape格式或者HTTP风格的header信息。</p>

<p>CURLOPT_COOKIEJAR
连接关闭以后，存放cookie信息的文件名称</p>

<p>CURLOPT_CUSTOMREQUEST
A custom request method to use instead of &ldquo;GET&rdquo; or &ldquo;HEAD&rdquo; when doing a HTTP request. This is</p>

<p>useful for doing &ldquo;DELETE&rdquo; or other, more obscure HTTP requests. Valid values are things like</p>

<p>&ldquo;GET&rdquo;, &ldquo;POST&rdquo;, &ldquo;CONNECT&rdquo; and so on; i.e. Do not enter a whole HTTP request line here. For</p>

<p>instance, entering &ldquo;GET /index.html HTTP/1.0\r\n\r\n&rdquo; would be incorrect.
Note: Don&rsquo;t do this without making sure the server supports the custom request method first.</p>

<p>CURLOPT_EGBSOCKET
Like CURLOPT_RANDOM_FILE, except a filename to an Entropy Gathering Daemon socket.</p>

<p>CURLOPT_ENCODING
header中&rdquo;Accept-Encoding: &ldquo;部分的内容，支持的编码格式为：&rdquo;identity&rdquo;，&rdquo;deflate&rdquo;，&rdquo;gzip&rdquo;。如果</p>

<p>设置为空字符串，则表示支持所有的编码格式</p>

<p>CURLOPT_FTPPORT
The value which will be used to get the IP address to use for the FTP &ldquo;POST&rdquo; instruction.</p>

<p>The &ldquo;POST&rdquo; instruction tells the remote server to connect to our specified IP address. The</p>

<p>string may be a plain IP address, a hostname, a network interface name (under Unix), or just</p>

<p>a plain &lsquo;-&rsquo; to use the systems default IP address.</p>

<p>CURLOPT_INTERFACE
在外部网络接口中使用的名称，可以是一个接口名，IP或者主机名。</p>

<p>CURLOPT_KRB4LEVEL
KRB4(Kerberos 4)安全级别的设置，可以是一下几个值之</p>

<p>一：&rdquo;clear&rdquo;，&rdquo;safe&rdquo;，&rdquo;confidential&rdquo;，&rdquo;private&rdquo;。默认的值为&rdquo;private&rdquo;，设置为null的时候表示禁</p>

<p>用KRB4，现在KRB4安全仅能在FTP传输中使用。</p>

<p>CURLOPT_POSTFIELDS
在HTTP中的&rdquo;POST&rdquo;操作。如果要传送一个文件，需要一个@开头的文件名</p>

<p>CURLOPT_PROXY
设置通过的HTTP代理服务器</p>

<p>CURLOPT_PROXYUSERPWD
连接到代理服务器的，格式为&rdquo;[username]:[password]&ldquo;的用户名和密码。</p>

<p>CURLOPT_RANDOM_FILE
设定存放SSL用到的随机数种子的文件名称</p>

<p>CURLOPT_RANGE
设置HTTP传输范围，可以用&rdquo;X-Y&rdquo;的形式设置一个传输区间，如果有多个HTTP传输，则使用逗号分隔多个</p>

<p>值，形如：&rdquo;X-Y,N-M&rdquo;。</p>

<p>CURLOPT_REFERER
设置header中&rdquo;Referer: &ldquo; 部分的值。</p>

<p>CURLOPT_SSL_CIPHER_LIST
A list of ciphers to use for SSL. For example, RC4-SHA and TLSv1 are valid cipher lists.</p>

<p>CURLOPT_SSLCERT
传递一个包含PEM格式证书的字符串。</p>

<p>CURLOPT_SSLCERTPASSWD
传递一个包含使用CURLOPT_SSLCERT证书必需的密码。</p>

<p>CURLOPT_SSLCERTTYPE
The format of the certificate. Supported formats are &ldquo;PEM&rdquo; (default), &ldquo;DER&rdquo;, and &ldquo;ENG&rdquo;.</p>

<p>CURLOPT_SSLENGINE
The identifier for the crypto engine of the private SSL key specified in CURLOPT_SSLKEY.</p>

<p>CURLOPT_SSLENGINE_DEFAULT
The identifier for the crypto engine used for asymmetric crypto operations.</p>

<p>CURLOPT_SSLKEY
The name of a file containing a private SSL key.</p>

<p>CURLOPT_SSLKEYPASSWD
The secret password needed to use the private SSL key specified in CURLOPT_SSLKEY.
Note: Since this option contains a sensitive password, remember to keep the PHP script it is</p>

<p>contained within safe.</p>

<p>CURLOPT_SSLKEYTYPE
The key type of the private SSL key specified in CURLOPT_SSLKEY. Supported key types are</p>

<p>&ldquo;PEM&rdquo; (default), &ldquo;DER&rdquo;, and &ldquo;ENG&rdquo;.</p>

<p>CURLOPT_URL
需要获取的URL地址，也可以在PHP的curl_init()函数中设置。</p>

<p>CURLOPT_USERAGENT
在HTTP请求中包含一个&rdquo;user-agent&rdquo;头的字符串。</p>

<p>CURLOPT_USERPWD
传递一个连接中需要的用户名和密码，格式为：&rdquo;[username]:[password]&ldquo;。</p>

<p>CURLOPT_HTTP200ALIASES
设置不再以error的形式来处理HTTP 200的响应，格式为一个数组。</p>

<p>CURLOPT_HTTPHEADER
设置一个header中传输内容的数组。</p>

<p>CURLOPT_POSTQUOTE
An array of FTP commands to execute on the server after the FTP request has been performed.</p>

<p>CURLOPT_QUOTE
An array of FTP commands to execute on the server prior to the FTP request.</p>

<p>CURLOPT_FILE
设置输出文件的位置，值是一个资源类型，默认为STDOUT (浏览器)。</p>

<p>CURLOPT_INFILE
在上传文件的时候需要读取的文件地址，值是一个资源类型。</p>

<p>CURLOPT_STDERR
设置一个错误输出地址，值是一个资源类型，取代默认的STDERR。</p>

<p>CURLOPT_WRITEHEADER
设置header部分内容的写入的文件地址，值是一个资源类型。</p>

<p>CURLOPT_HEADERFUNCTION
设置一个回调函数，这个函数有两个参数，第一个是curl的资源句柄，第二个是输出的header数据。</p>

<p>header数据的输出必须依赖这个函数，返回已写入的数据大小。</p>

<p>CURLOPT_PASSWDFUNCTION
设置一个回调函数，有三个参数，第一个是curl的资源句柄，第二个是一个密码提示符，第三个参数是密</p>

<p>码长度允许的最大值。返回密码的值。</p>

<p>CURLOPT_READFUNCTION
设置一个回调函数，有两个参数，第一个是curl的资源句柄，第二个是读取到的数据。数据读取必须依赖</p>

<p>这个函数。返回读取数据的大小，比如0或者EOF。</p>

<p>CURLOPT_WRITEFUNCTION
设置一个回调函数，有两个参数，第一个是curl的资源句柄，第二个是写入的数据。数据写入必须依赖这</p>

<p>个函数。返回精确的已写入数据的大小</p>

<p>curl_copy_handle()函数的作用是拷贝一个curl连接资源的所有内容和参数</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#75715e">&lt;?php</span> 
$ch <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_init</span>(<span style="color:#e6db74">&#34;http://www.baidu.com/&#34;</span>); 
$another <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_copy_handle</span>($ch); 
<span style="color:#a6e22e">curl_exec</span>($another); 
<span style="color:#a6e22e">curl_close</span>($another); 
<span style="color:#75715e">?&gt;</span>

curl_exec($another); 
curl_close($another); 
?&gt;
</code></pre></div>
<p>curl_error()函数的作用是返回一个包含当前会话错误信息的字符串。
curl_errno()函数的作用是返回一个包含当前会话错误信息的数字编号。</p>

<p>curl_multi_init()函数的作用是初始化一个curl批处理句柄资源。
curl_multi_add_handle()函数的作用是向curl批处理会话中添加单独的curl句柄资源。</p>

<p>curl_multi_add_handle()函数有两个参数，第一个参数表示一个curl批处理句柄资源，第二个参数表示</p>

<p>一个单独的curl句柄资源。
curl_multi_exec()函数的作用是解析一个curl批处理句柄，curl_multi_exec()函数有两个参数，第一个</p>

<p>参数表示一个批处理句柄资源，第二个参数是一个引用值的参数，表示剩余需要处理的单个的curl句柄资</p>

<p>源数量。
curl_multi_remove_handle()函数表示移除curl批处理句柄资源中的某个句柄资源，</p>

<p>curl_multi_remove_handle()函数有两个参数，第一个参数表示一个curl批处理句柄资源，第二个参数表</p>

<p>示一个单独的curl句柄资源。
curl_multi_close()函数的作用是关闭一个批处理句柄资源。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#75715e">&lt;?php</span> 
$ch1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_init</span>(); 
$ch2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_init</span>(); 
<span style="color:#a6e22e">curl_setopt</span>($ch1, <span style="color:#a6e22e">CURLOPT_URL</span>, <span style="color:#e6db74">&#34;http://www.baidu.com/&#34;</span>); 
<span style="color:#a6e22e">curl_setopt</span>($ch1, <span style="color:#a6e22e">CURLOPT_HEADER</span>, <span style="color:#ae81ff">0</span>); 
<span style="color:#a6e22e">curl_setopt</span>($ch2, <span style="color:#a6e22e">CURLOPT_URL</span>, <span style="color:#e6db74">&#34;http://www.google.com/&#34;</span>); 
<span style="color:#a6e22e">curl_setopt</span>($ch2, <span style="color:#a6e22e">CURLOPT_HEADER</span>, <span style="color:#ae81ff">0</span>); 
$mh <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_multi_init</span>(); 
<span style="color:#a6e22e">curl_multi_add_handle</span>($mh,$ch1); 
<span style="color:#a6e22e">curl_multi_add_handle</span>($mh,$ch2); 
<span style="color:#66d9ef">do</span> { 
<span style="color:#a6e22e">curl_multi_exec</span>($mh,$flag); 
} <span style="color:#66d9ef">while</span> ($flag <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>); 
<span style="color:#a6e22e">curl_multi_remove_handle</span>($mh,$ch1); 
<span style="color:#a6e22e">curl_multi_remove_handle</span>($mh,$ch2); 
<span style="color:#a6e22e">curl_multi_close</span>($mh); 
<span style="color:#75715e">?&gt;</span>
</code></pre></div>
<p>curl_multi_getcontent()函数的作用是在设置了CURLOPT_RETURNTRANSFER的情况下，返回获取的输出的</p>

<p>文本流。</p>

<p>curl_multi_info_read()函数的作用是获取当前解析的curl的相关传输信息。</p>

<p>curl_multi_select()
Get all the sockets associated with the cURL extension, which can then be &ldquo;selected&rdquo;</p>
</article>
    <footer class="post-footer">
      
      <ul class="post-tags">
        
          <li><a href="http://www.imxcz.com/tags/php"><span class="tag">Php</span></a></li>
        
          <li><a href="http://www.imxcz.com/tags/curl"><span class="tag">Curl</span></a></li>
        
      </ul>
      
      <p class="post-copyright">
        Link:<a rel='license' href='http://www.imxcz.com/wordpress/php-curl-use.html'>http://www.imxcz.com/wordpress/php-curl-use.html </a><br>
          © 本文采用 <a rel='license' href='http://creativecommons.org/licenses/by-nc/4.0/' target=''>知识共享署名-非商业性使用 4.0 国际许可协议</a> 进行许可。文章发表于 <strong>1782</strong> 天前, 文章内容可能不准确，请酌情参考。
      </p>
      <div class="post-nav">
          
          <a href="http://www.imxcz.com/wordpress/php-shutdown-computer.html" class="prev" rel="prev" title="php用手机关计算机（电脑）服务器"> ← &nbsp;php用手机关计算机（电脑）服务器</a>
           
          
          <a href="http://www.imxcz.com/wordpress/zhengze_kuaisurumen.html" class="next" rel="next" title="正则表达式快速入门教程">正则表达式快速入门教程&nbsp; → </a>
          
      </div>
    </footer>
    
      
    
    </content>
    <sidebar>
        <div class="sidebar">
    <section class="widget-box">
        <h3 class="widget-title">分类</h3>
        <ul class="widget-categories">
            
            <li>
                <a href="http://www.imxcz.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E4%BB%B6/">技术文件(1)</a>
            </li>
            
            <li>
                <a href="http://www.imxcz.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/">技术文章(17)</a>
            </li>
            
            <li>
                <a href="http://www.imxcz.com/categories/%E6%91%84%E5%BD%B1/">摄影(1)</a>
            </li>
            
            <li>
                <a href="http://www.imxcz.com/categories/%E6%98%8E%E6%98%9F%E5%81%B6%E5%83%8F/">明星偶像(1)</a>
            </li>
            
            <li>
                <a href="http://www.imxcz.com/categories/%E7%A7%91%E6%8A%80%E8%B5%84%E8%AE%AF/">科技资讯(1)</a>
            </li>
            
            <li>
                <a href="http://www.imxcz.com/categories/%E8%89%BA%E6%9C%AF%E8%AE%BE%E8%AE%A1/">艺术设计(1)</a>
            </li>
            
            <li>
                <a href="http://www.imxcz.com/categories/%E8%AE%B0%E5%BD%95/">记录(2)</a>
            </li>
            
            <li>
                <a href="http://www.imxcz.com/categories/%E8%B6%A3%E9%97%BB/">趣闻(4)</a>
            </li>
            
            <li>
                <a href="http://www.imxcz.com/categories/%E8%BD%AF%E4%BB%B6%E5%88%86%E4%BA%AB/">软件分享(3)</a>
            </li>
            
        </ul>
    </section>
    <section class="widget-box">
        <h3 class="widget-title">标签</h3>
        <div class="tagcloud">
            
            <a href="http://www.imxcz.com/tags/apache/">apache</a>
            
            <a href="http://www.imxcz.com/tags/centos/">centos</a>
            
            <a href="http://www.imxcz.com/tags/css/">css</a>
            
            <a href="http://www.imxcz.com/tags/curl/">curl</a>
            
            <a href="http://www.imxcz.com/tags/ecshop/">ecshop</a>
            
            <a href="http://www.imxcz.com/tags/ftp/">ftp</a>
            
            <a href="http://www.imxcz.com/tags/gin/">gin</a>
            
            <a href="http://www.imxcz.com/tags/git/">git</a>
            
            <a href="http://www.imxcz.com/tags/golang/">golang</a>
            
            <a href="http://www.imxcz.com/tags/google/">google</a>
            
            <a href="http://www.imxcz.com/tags/htaccess/">htaccess</a>
            
            <a href="http://www.imxcz.com/tags/iis/">iis</a>
            
            <a href="http://www.imxcz.com/tags/jquery/">jquery</a>
            
            <a href="http://www.imxcz.com/tags/mac/">mac</a>
            
            <a href="http://www.imxcz.com/tags/msysgit/">msysgit</a>
            
            <a href="http://www.imxcz.com/tags/mysql/">mysql</a>
            
            <a href="http://www.imxcz.com/tags/php/">php</a>
            
            <a href="http://www.imxcz.com/tags/tortoisegit/">tortoisegit</a>
            
            <a href="http://www.imxcz.com/tags/vsftp/">vsftp</a>
            
            <a href="http://www.imxcz.com/tags/wordpress/">wordpress</a>
            
            <a href="http://www.imxcz.com/tags/%E4%BA%A7%E5%93%81%E7%BB%8F%E7%90%86/">产品经理</a>
            
            <a href="http://www.imxcz.com/tags/%E4%BB%A3%E7%90%86/">代理</a>
            
            <a href="http://www.imxcz.com/tags/%E5%8A%A0%E9%80%9F%E5%99%A8/">加速器</a>
            
            <a href="http://www.imxcz.com/tags/%E5%9B%BE%E7%89%87/">图片</a>
            
            <a href="http://www.imxcz.com/tags/%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD/">垂直居中</a>
            
            <a href="http://www.imxcz.com/tags/%E5%9F%9F%E5%90%8D/">域名</a>
            
            <a href="http://www.imxcz.com/tags/%E5%A5%B3%E7%A5%9E/">女神</a>
            
            <a href="http://www.imxcz.com/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">小程序</a>
            
            <a href="http://www.imxcz.com/tags/%E5%B9%BD%E9%BB%98/">幽默</a>
            
            <a href="http://www.imxcz.com/tags/%E6%8B%8D%E7%85%A7/">拍照</a>
            
            <a href="http://www.imxcz.com/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">正则表达式</a>
            
            <a href="http://www.imxcz.com/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/">用户体验</a>
            
            <a href="http://www.imxcz.com/tags/%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1/">界面设计</a>
            
            <a href="http://www.imxcz.com/tags/%E7%A0%81%E5%86%9C/">码农</a>
            
            <a href="http://www.imxcz.com/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/">程序员</a>
            
            <a href="http://www.imxcz.com/tags/%E7%BD%91%E6%98%93uu/">网易uu</a>
            
            <a href="http://www.imxcz.com/tags/%E8%87%AA%E5%AE%9A%E4%B9%89/">自定义</a>
            
            <a href="http://www.imxcz.com/tags/%E8%BF%94%E5%9B%9E%E9%A1%B6%E9%83%A8/">返回顶部</a>
            
            <a href="http://www.imxcz.com/tags/%E9%AA%8C%E8%AF%81%E7%A0%81/">验证码</a>
            
            <a href="http://www.imxcz.com/tags/%E9%AB%98%E5%9C%86%E5%9C%86/">高圆圆</a>
            
        </div>
    </section>
    
    <section class="widget-box">
        <h3 class="widget-title">友情链接</h3>
        <ul class="widget-links">
            
            <li>
                <a target="_blank" href="https://www.simianti.cn" title="实验室一站式服务平台">四面体科技</a>
            </li>
            
        </ul>
    </section>
    
    <section class="widget-box">
            <h3 class="widget-title">其他</h3>
            <ul class="widget-links">
                    <li><a href="http://www.imxcz.com/index.xml">文章 RSS</a></li>
                </ul>
        </section>
</div>
      </sidebar>
  </section>
  


<footer class="site-footer">
  <p>© 2012-2019 幸存者IMxcz.Com</p>
  <p>Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> with theme <a href="http://www.imxcz.com" target="_blank" rel="noopener">Imxcz</a>.</p>
  
    <p><a href="http://www.miitbeian.gov.cn" title="Check ICP info" target="_blank" rel="noopener">豫ICP备16005986号-2</a></p>
  
</footer>


<script src="https://cdn.jsdelivr.net/npm/smooth-scroll@15.0.0/dist/smooth-scroll.min.js"></script>



<script async src="https://cdn.jsdelivr.net/npm/video.js@7.3.0/dist/video.min.js"></script>




<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\\[','\\]']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
      extensions: ["AMSmath.js", "AMSsymbols.js"] }
    },
  });
</script>
<script type="text/x-mathjax-config">
  // Fix <code> tags after MathJax finishes running. This is a
  // hack to overcome a shortcoming of Markdown. Discussion at
  // https://github.com/mojombo/jekyll/issues/199
  MathJax.Hub.Queue(() => {
    MathJax.Hub.getAllJax().map(v => v.SourceElement().parentNode.className += ' has-jax');
  });
</script>



<script src="http://www.imxcz.com/scripts/index.min.js"></script>

<script>
  
  
  
  
  
</script>




<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-XXXXXXXX-X', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







  </body>
</html>
